generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:123456@localhost:3306/tcc?schema=public"
}

model funcionarios {
  pessoa_id        Int     @id
  email            String  @unique(map: "email") @db.VarChar(100)
  senha            String  @db.VarChar(100)
  administrador    Boolean
  funcao_id        Int
  reg_profissional String  @db.VarChar(20)
  pessoas          pessoas @relation(fields: [pessoa_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "funcionarios_ibfk_1")
  funcoes          funcoes @relation(fields: [funcao_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "funcionarios_ibfk_2")

  @@index([funcao_id], map: "funcao_id")
  @@index([pessoa_id], map: "pessoa_id")
}

model pacientes {
  pessoa_id  Int     @id
  cartao_sus String? @db.VarChar(25)
  pessoas    pessoas @relation(fields: [pessoa_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "pacientes_ibfk_1")
}

model pessoas {
  id            Int           @id @default(autoincrement())
  cpf           String?       @db.VarChar(11)
  dt_nascimento DateTime?     @db.Date
  nm_pessoa     String        @db.VarChar(100)
  funcionarios  funcionarios?
  pacientes     pacientes?
}

model funcoes {
  id           Int            @id @default(autoincrement())
  nm_funcao    String         @unique(map: "nm_funcao") @db.VarChar(20)
  funcionarios funcionarios[]
}
